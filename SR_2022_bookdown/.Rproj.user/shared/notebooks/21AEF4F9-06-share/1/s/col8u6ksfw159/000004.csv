"0","n_sim <- 10 #number of simulations"
"0","kseq <- 1:5 #number of parameters in the model"
"0",""
"0","#simulation function "
"0","my_sim <- function(k) {"
"0","  r <- replicate(n_sim, sim_train_test(N=n, k = k));"
"0","  c(mean(r[1,]), mean(r[2,]), sd(r[1,]), sd(r[2,]))"
"0","}"
"0",""
"0","# run for 20 cases"
"0","n <- 20"
"0","dev_20 <- sapply(kseq, my_sim) # this will take a while"
"0",""
"0","# run for 100 cases"
"0","#n <- 100"
"0","#dev_100 <- sapply(kseq, my_sim) # run if interested but with more data, adding parameters will not largely affect the deviance "
"0",""
"0",""
"0","#plot"
"0","plot(1:5, dev_20[1,], ylim=c(min(dev_20[1:2,])-5, max(dev_20[1:2,])+10), "
"0","     xlim = c(1, 5.1), xlab = 'number of parameters', ylab='deviance',"
"0","     pch = 16, col = rangi2)"
